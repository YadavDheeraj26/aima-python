import requests
import matplotlib.pyplot as plt 

def get_pokemon_data():
    poke_name = input("Enter pokemon name:")
    url = "https://api.pokemontcg.io/v1/cards?name={}".format(poke_name)
    response = requests.get(url)
    return response.json()

def plot_pokemon_image(received_data):
    url_data = requests.get(received_data["cards"][0]["imageUrl"])
    with open('./l.png','wb') as f :   
        for item in url_data.iter_content(1024):
            f.write(item)

    image_data = plt.imread('./l.png')
    plt.imshow(image_data)
    plt.show()

if __name__ == "__main__":
    received_data = get_pokemon_data()
    plot_pokemon_image(received_data)
